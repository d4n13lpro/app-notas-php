==========================================
ESTRUCTURA Y CÃ“DIGO DEL PROYECTO
Fecha: 2026-02-08 16:47:51
RaÃ­z: app_notas_pract
==========================================

--- ÃRBOL DE DIRECTORIOS ---
ğŸ“„ .htaccess
ğŸ“„ config.php
ğŸ“ controllers
  ğŸ“„ about.php
  ğŸ“„ contact.php
  ğŸ“„ index.php
  ğŸ“ notes
    ğŸ“„ create.php
    ğŸ“„ index.php
    ğŸ“„ show.php
ğŸ“„ Database.php
ğŸ“„ estructura_proyecto.txt
ğŸ“„ functions.php
ğŸ“„ generar_mapa.php
ğŸ“„ index.php
ğŸ“„ README.md
ğŸ“„ Response.php
ğŸ“„ router.php
ğŸ“„ routes.php
ğŸ“„ Validator.php
ğŸ“ views
  ğŸ“„ 403.PHP
  ğŸ“„ 404.php
  ğŸ“„ about.view.php
  ğŸ“„ contact.view.php
  ğŸ“„ index.view.php
  ğŸ“ notes
    ğŸ“„ note-create.view.php
    ğŸ“„ note.view.php
    ğŸ“„ notes.view.php
  ğŸ“ partials
    ğŸ“„ banner.php
    ğŸ“„ footer.php
    ğŸ“„ head.php
    ğŸ“„ nav.php


--- CONTENIDO DE LOS ARCHIVOS ---

============================================================
ARCHIVO: .htaccess
============================================================
RewriteEngine On
RewriteBase /app_notas_pract/

# Si no es un archivo o carpeta real, mÃ¡ndalo todo al index.php

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]


============================================================
ARCHIVO: config.php
============================================================
<?php

/**
 * ConfiguraciÃ³n global de la aplicaciÃ³n.
 * Centraliza las credenciales y parÃ¡metros del entorno.
 */
return [
    // ParÃ¡metros tÃ©cnicos para la construcciÃ³n del DSN de PDO
    'database' => [
        'host' => 'localhost',
        'port' => 3306,
        'dbname' => 'pnotas',
        'charset' => 'utf8mb4'
    ],

    // Credenciales de acceso al motor de base de datos
    'user' => 'notesuser',
    'password' => ''
];


============================================================
ARCHIVO: controllers\about.php
============================================================
<?php

//dd(parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH));
$heading = "About Us";
require 'views/about.view.php';


============================================================
ARCHIVO: controllers\contact.php
============================================================
<?php

//dd(parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH));
$heading = "Contact Us";
require 'views/contact.view.php';


============================================================
ARCHIVO: controllers\index.php
============================================================
<?php

/**
 * Controlador de la pÃ¡gina de inicio (Landing Page).
 */

//dd(parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH));

$heading = "Home";

/**
 * Nota: Actualmente estÃ¡s buscando una nota especÃ­fica por ID aquÃ­ tambiÃ©n.
 * Si esta es solo la pÃ¡gina de bienvenida, podrÃ­as no necesitar la consulta a la BD,
 * o podrÃ­as usarla para mostrar la "Nota del dÃ­a" o un mensaje especial.
 */
$id = $_GET['id'] ?? 2;

$notes = $db->query("SELECT * FROM notes WHERE id=:id", ['id' => $id])->find();

// Cargamos la vista principal
require 'views/index.view.php';


============================================================
ARCHIVO: controllers\notes\create.php
============================================================
<?php
require 'Validator.php';
$heading = "Create Note";
$currentUserId = 2;
$errors = []; // Inicializamos el contenedor de errores



// if (!Validator::email('danielhotmail.com')) {
//     dd('Email no vÃ¡lido');
// }

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $errors = []; // Reiniciamos errores en cada POST


    if (!Validator::string($_POST['body'], 1, 1000)) {
        $errors['body'] = 'A body of the note is required and must be between 1 and 1000 characters.';
    }

    // Si NO hay errores, procedemos a guardar
    if (empty($errors)) {
        $db->query(
            "INSERT INTO notes(body, user_id) VALUES(:body, :user_id)",
            [
                'body' => $_POST['body'],
                'user_id' => $currentUserId
            ]
        );
        header('Location: /app_notas_pract/notes');
        exit();
    }
}

require 'views/notes/note-create.view.php';


============================================================
ARCHIVO: controllers\notes\index.php
============================================================
<?php

/**
 * Controlador para el listado de notas del usuario.
 */

dd(parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH));

$heading = "My Notes";

// Simulamos el ID del usuario autenticado (mÃ¡s adelante vendrÃ¡ de $_SESSION)
$currentUserId = 2;

/**
 * Consultamos solo las notas que pertenecen al usuario actual.
 * Usamos placeholders con nombre (:user_id) para mayor claridad.
 */
$notes = $db->query(
    "SELECT * FROM notes WHERE user_id = :user_id",
    ["user_id" => $currentUserId]
)->get();

dd([
    'Intentando_cargar_vista' => 'views/notes/notes.view.php',
    'La_vista_existe_fisicamente?' => file_exists('views/notes/notes.view.php')
]);

// Carga de la vista con los datos filtrados
require 'views/notes/notes.view.php';


============================================================
ARCHIVO: controllers\notes\show.php
============================================================
<?php

//dd(parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH));

/**
 * Controlador para visualizar una nota individual de forma segura.
 */
$heading = "Note";
$currentUserId = 2; // ID del usuario "logueado" (temporal)

/**
 * Buscamos la nota por el ID recibido en la URL ($_GET['id']).
 * Usamos fetch() porque esperamos un solo resultado, no un conjunto.
 */
$note = $db->query("SELECT * FROM notes WHERE id = :id", [
    'id' => $_GET['id']
])->findOrFail();

/**
 * VALIDACIÃ“N 1: Â¿Existe la nota?
 * Si el ID no existe en la BD, fetch() devuelve false.
 */
// if (! $note) {
//     abort(Response::NOT_FOUND);
// }

/**
 * VALIDACIÃ“N 2: Â¿Le pertenece al usuario?
 * Evita que un usuario vea notas ajenas adivinando el ID en la URL.
 */
// if ($note['user_id'] !== $currentUserId) {
//     abort(Response::FORBIDDEN);
// }

authorize($note['user_id'] === $currentUserId);

// Si pasa ambas validaciones, cargamos la vista del detalle
require 'views/notes/note.view.php';


============================================================
ARCHIVO: Database.php
============================================================
<?php

/**
 * Data Access Layer - Wrapper de PDO para gestiÃ³n segura de BD.
 */
class Database
{
    // Encapsula la instancia de PDO y el Ãºltimo Statement ejecutado.
    public $connection;
    public $statement;

    /**
     * Inicializa la conexiÃ³n con configuraciÃ³n optimizada.
     */
    public function __construct($config, $username, $password)
    {
        // Construye DSN dinÃ¡mico evitando hardcoding de parÃ¡metros.
        $dsn = 'mysql:' . http_build_query($config, '', ';');

        $this->connection = new PDO($dsn, $username, $password, [
            // Mapeo automÃ¡tico a arrays asociativos para facilitar el renderizado en vistas.
            PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,
            // Lanza excepciones en errores SQL para evitar fallos silenciosos y facilitar debug.
            PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION
        ]);
    }

    /**
     * Prepara y ejecuta la sentencia. Retorna $this para permitir encadenamiento (Fluent Interface).
     */
    public function query($query, $params = [])
    {
        $this->statement = $this->connection->prepare($query);
        $this->statement->execute($params);

        return $this;
    }

    /**
     * Retorna la colecciÃ³n completa de resultados.
     */
    public function get()
    {
        return $this->statement->fetchAll();
    }

    /**
     * Retorna un registro Ãºnico o false si no existe.
     */
    public function find()
    {
        return $this->statement->fetch();
    }

    /**
     * Implementa lÃ³gica de "Early Return" con interrupciÃ³n de flujo 404 si el registro no existe.
     */
    public function findOrFail()
    {
        $results = $this->find();

        if (!$results) {
            abort(Response::NOT_FOUND);
        }

        return $results;
    }
}


============================================================
ARCHIVO: estructura_proyecto.txt
============================================================
ESTRUCTURA DEL PROYECTO
Generado el: 2026-02-08 16:28:01
==============================

app_notas_pract\
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .htaccess
â”œâ”€â”€ Database.php
â”œâ”€â”€ README.md
â”œâ”€â”€ Response.php
â”œâ”€â”€ Validator.php
â”œâ”€â”€ config.php
â”œâ”€â”€ controllers
â”‚   â”œâ”€â”€ about.php
â”‚   â”œâ”€â”€ contact.php
â”‚   â”œâ”€â”€ index.php
â”‚   â””â”€â”€ notes
â”‚       â”œâ”€â”€ create.php
â”‚       â”œâ”€â”€ index.php
â”‚       â””â”€â”€ show.php
â”œâ”€â”€ estructura_proyecto.txt
â”œâ”€â”€ exportador.php
â”œâ”€â”€ functions.php
â”œâ”€â”€ index.php
â”œâ”€â”€ router.php
â”œâ”€â”€ routes.php
â””â”€â”€ views
    â”œâ”€â”€ 403.PHP
    â”œâ”€â”€ 404.php
    â”œâ”€â”€ about.view.php
    â”œâ”€â”€ contact.view.php
    â”œâ”€â”€ index.view.php
    â”œâ”€â”€ notes
    â”‚   â”œâ”€â”€ note-create.view.php
    â”‚   â”œâ”€â”€ note.view.php
    â”‚   â””â”€â”€ notes.view.php
    â””â”€â”€ partials
        â”œâ”€â”€ banner.php
        â”œâ”€â”€ footer.php
        â”œâ”€â”€ head.php
        â””â”€â”€ nav.php


============================================================
ARCHIVO: functions.php
============================================================
<?php

/**
 * Determina si la URL actual coincide con el valor dado.
 * * Ejemplo de flujo:
 * Si la URL es: http://localhost/app_notas_pract/notes
 * parse_url devolverÃ¡: "/app_notas_pract/notes"
 * $value debe ser exactamente: "/app_notas_pract/notes"
 */
function urlIs($value)
{
    // Obtenemos solo el path de la URL (ej: /app_notas_pract/about)
    $currentPath = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);
    return $currentPath === $value;
}


function authorize($condition)
{
    if (!$condition) {
        abort(Response::FORBIDDEN);
    }
}

/**
 * Dump and Die: Imprime una variable de forma legible y detiene la ejecuciÃ³n.
 * Ãštil para debuggear el estado de los datos en medio del flujo.
 */
function dd($value)
{
    echo "<pre style='background:#18181b; color:#fbbf24; padding:20px; border-radius:8px; overflow:auto; line-height:1.5; border:1px solid #3f3f46;'>";
    var_dump($value);
    echo "</pre>";

    die();
}


============================================================
ARCHIVO: generar_mapa.php
============================================================
<?php

$dirToScan = __DIR__;
$outputFile = 'estructura_proyecto.txt';
$excluded = ['vendor', 'node_modules', '.git', '.idea', '.vscode', 'generar_mapa.php', 'generar.bat'];

/**
 * @param string $dir Directorio actual
 * @param string $prefix Prefijo visual para las ramas
 * @param array $excluded Carpetas y archivos a ignorar
 * @return string
 */
function buildTree($dir, $prefix = '', $excluded = [])
{
    $result = "";
    $files = scandir($dir);

    // Quitamos . y .. y los excluidos
    $files = array_filter($files, function ($file) use ($excluded) {
        return !in_array($file, $excluded) && $file !== '.' && $file !== '..';
    });

    // Reindexamos para saber cuÃ¡l es el Ãºltimo elemento
    $files = array_values($files);
    $count = count($files);

    foreach ($files as $index => $file) {
        $path = $dir . DIRECTORY_SEPARATOR . $file;
        $isLast = ($index === $count - 1);

        // Elegimos el conector segÃºn la posiciÃ³n
        $connector = $isLast ? 'â””â”€â”€ ' : 'â”œâ”€â”€ ';

        $result .= $prefix . $connector . $file . PHP_EOL;

        if (is_dir($path)) {
            // Si es carpeta, bajamos un nivel con un nuevo prefijo
            $newPrefix = $prefix . ($isLast ? '    ' : 'â”‚   ');
            $result .= buildTree($path, $newPrefix, $excluded);
        }
    }
    return $result;
}

// ConstrucciÃ³n del contenido final
$header = "ESTRUCTURA DEL PROYECTO" . PHP_EOL;
$header .= "Generado el: " . date('Y-m-d H:i:s') . PHP_EOL;
$header .= str_repeat('=', 30) . PHP_EOL . PHP_EOL;
$header .= basename($dirToScan) . DIRECTORY_SEPARATOR . PHP_EOL;

// AquÃ­ estaba el fallo: simplemente concatenamos el retorno de la funciÃ³n
$treeBody = buildTree($dirToScan, '', $excluded);

file_put_contents($outputFile, $header . $treeBody);

echo "Â¡Listo! Estructura limpia generada en: $outputFile" . PHP_EOL;


============================================================
ARCHIVO: index.php
============================================================
<?php

/**
 * Bootstrapping: Cargamos el corazÃ³n de la aplicaciÃ³n
 */
require 'functions.php';
require 'Database.php';
require 'Response.php'; // Cargado junto a las herramientas

// 1. Cargamos la configuraciÃ³n tÃ©cnica
$config = require 'config.php';

// 2. Inicializamos componentes globales (ConexiÃ³n Ãšnica)
$db = new Database(
    $config['database'],
    $config['user'],
    $config['password']
);

/**
 * Despacho: El Router toma el control al final
 */
require 'router.php';


============================================================
ARCHIVO: README.md
============================================================
# ğŸ“ App Notas Pract (Mini-Framework MVC)

Un sistema de gestiÃ³n de notas desarrollado en **PHP nativo** siguiendo el patrÃ³n de diseÃ±o **Model-View-Controller (MVC)**. Este proyecto implementa un enrutador personalizado y un sistema de persistencia de datos robusto utilizando PDO.

## ğŸš€ CaracterÃ­sticas Principales

- **Custom Router:** Sistema de ruteo basado en URIs que mapea peticiones a controladores especÃ­ficos.
- **PDO Database Wrapper:** Clase `Database` personalizada para manejar sentencias preparadas y prevenir inyecciones SQL.
- **Dependency Injection:** InyecciÃ³n de la instancia de base de datos y configuraciones a travÃ©s del ciclo de vida de la peticiÃ³n.
- **SeparaciÃ³n de Concernimientos:** Clara distinciÃ³n entre lÃ³gica de negocio (Controllers) y presentaciÃ³n (Views).

## ğŸ“‚ Estructura del Proyecto

```text
ESTRUCTURA DEL PROYECTO
Generado el: 2026-02-08 03:47:16
==============================

app_notas_pract\
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .htaccess
â”œâ”€â”€ Database.php
â”œâ”€â”€ README.md
â”œâ”€â”€ Response.php
â”œâ”€â”€ config.php
â”œâ”€â”€ controllers
â”‚   â”œâ”€â”€ about.php
â”‚   â”œâ”€â”€ contact.php
â”‚   â”œâ”€â”€ index.php
â”‚   â”œâ”€â”€ note-create.php
â”‚   â”œâ”€â”€ note.php
â”‚   â””â”€â”€ notes.php
â”œâ”€â”€ estructura_proyecto.txt
â”œâ”€â”€ exportador.php
â”œâ”€â”€ functions.php
â”œâ”€â”€ index.php
â”œâ”€â”€ router.php
â”œâ”€â”€ routes.php
â””â”€â”€ views
    â”œâ”€â”€ 403.PHP
    â”œâ”€â”€ 404.php
    â”œâ”€â”€ about.view.php
    â”œâ”€â”€ contact.view.php
    â”œâ”€â”€ index.view.php
    â”œâ”€â”€ note-create.view.php
    â”œâ”€â”€ note.view.php
    â”œâ”€â”€ notes.view.php
    â””â”€â”€ partials
        â”œâ”€â”€ banner.php
        â”œâ”€â”€ footer.php
        â”œâ”€â”€ head.php
        â””â”€â”€ nav.php
```

```mysql


CREATE TABLE `notes` (
`id` int NOT NULL AUTO_INCREMENT,
`body` text NOT NULL, -- Cambiado de title a body
`user_id` int NOT NULL,
`created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
`updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
PRIMARY KEY (`id`),
CONSTRAINT `fk_user_notes` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `users` (
`id` int NOT NULL AUTO_INCREMENT,
`name` varchar(255) NOT NULL,
`email` varchar(255) NOT NULL,
`created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
`updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
PRIMARY KEY (`id`),
UNIQUE KEY `email_UNIQUE` (`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

os nombres de los archivos dentro de la carpeta controllers/notes/ tienen un significado estandarizado:AcciÃ³nRuta (URI)ControladorPropÃ³sitoIndex/notesnotes/index.phpLista todas las notas.Show/note?id=...notes/show.phpMuestra una nota especÃ­fica (detalle).Create/notes/createnotes/create.phpMuestra el formulario y procesa la creaciÃ³n.


============================================================
ARCHIVO: Response.php
============================================================
<?php

/**
 * Provee constantes para cÃ³digos de respuesta HTTP.
 * Facilita la legibilidad y evita el uso de valores numÃ©ricos directos en el cÃ³digo.
 */
class Response
{
    const NOT_FOUND = 404; // Recurso no encontrado
    const FORBIDDEN = 403; // Acceso denegado/prohibido
}


============================================================
ARCHIVO: router.php
============================================================
<?php

$routes = require 'routes.php';

/**
 * Captura la URI actual ignorando parÃ¡metros query (como ?id=1) 
 * para poder compararla con nuestro mapa de rutas.
 */
$uri = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);
// dd($uri);
// dd([
//     'URI_SOLICITADA' => $uri,
//     'RUTAS_REGISTRADAS' => array_keys($routes),
//     'EXISTE_EN_MAPA' => array_key_exists($uri, $routes)
// ]);
if (array_key_exists($uri, $routes)) {
    // ESTE DD TE DIRÃ SI EL ARCHIVO FÃSICO REALMENTE ESTÃ AHÃ
    dd([
        'Ruta_que_intenta_cargar' => $routes[$uri],
        'El_archivo_existe_fisicamente?' => file_exists($routes[$uri])
    ]);

    require $routes[$uri];
}



/**
 * Detiene la ejecuciÃ³n y carga una vista de error (404, 403, etc).
 */
function abort($code = 404)
{
    http_response_code($code);
    require "views/{$code}.php";
    die();
}

/**
 * Verifica si la URI existe en el mapa y carga el controlador correspondiente.
 * Se inyecta $db para que el controlador tenga acceso a la base de datos.
 */
function routeToController($uri, $routes, $db)
{
    if (array_key_exists($uri, $routes)) {
        // dd(file_exists($routes[$uri]));
        if (file_exists($routes[$uri])) {
            require $routes[$uri];
        } else {
            abort(Response::NOT_FOUND);
        }
    } else {
        abort(Response::NOT_FOUND);
    }
}

// EjecuciÃ³n del ruteo
routeToController($uri, $routes, $db);


============================================================
ARCHIVO: routes.php
============================================================
<?php

/**
 * Mapa de rutas: Asocia URIs especÃ­ficas con sus respectivos controladores.
 */
return [
    "/app_notas_pract/"         => "controllers/index.php",
    "/app_notas_pract/about"   => "controllers/about.php",
    "/app_notas_pract/contact" => "controllers/contact.php",
    "/app_notas_pract/notes"   => "controllers/notes/index.php",
    "/app_notas_pract/note"    => "controllers/notes/show.php",
    "/app_notas_pract/notes/create" => "controllers/notes/create.php"

];


============================================================
ARCHIVO: Validator.php
============================================================
<?php

class Validator
{
    public static function string($value, $min = 1, $max = 255)
    {
        $values = trim($value);
        return strlen($values) >= $min && strlen($values) <= $max;
    }

    public static function email($value)
    {
        return filter_var($value, FILTER_VALIDATE_EMAIL);
    }
}


============================================================
ARCHIVO: views\403.PHP
============================================================
<?php require("partials/head.php") ?>
<?php require("partials/nav.php") ?>

<main class="grid min-h-full place-items-center bg-gray-900 px-6 py-24 sm:py-32 lg:px-8">
    <div class="text-center">
        <p class="text-xl font-bold text-indigo-500"><?= http_response_code() ?></p>

        <h1 class="mt-4 text-3xl font-bold tracking-tight text-white sm:text-5xl">
            Unauthorized
        </h1>

        <p class="mt-6 text-base leading-7 text-gray-400">
            Lo sentimos, no tienes los permisos necesarios para ver esta pÃ¡gina. </p>

        <div class="mt-10 flex items-center justify-center gap-x-6">
            <a href="/app_notas_pract/"
                class="rounded-md bg-indigo-500 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500">
                Volver al inicio
            </a>

            <a href="/app_notas_pract/contact" class="text-sm font-semibold text-gray-300 hover:text-white">
                Contactar soporte <span aria-hidden="true">&rarr;</span>
            </a>
        </div>
    </div>
</main>

<?php require("partials/footer.php") ?>

============================================================
ARCHIVO: views\404.php
============================================================
<?php require("partials/head.php") ?>
<?php require("partials/nav.php") ?>

<main class="grid min-h-full place-items-center bg-gray-900 px-6 py-24 sm:py-32 lg:px-8">
    <div class="text-center">
        <p class="text-xl font-bold text-indigo-500">404</p>

        <h1 class="mt-4 text-3xl font-bold tracking-tight text-white sm:text-5xl">
            PÃ¡gina no encontrada
        </h1>

        <p class="mt-6 text-base leading-7 text-gray-400">
            Lo sentimos, no pudimos encontrar la pÃ¡gina que estÃ¡s buscando.
        </p>

        <div class="mt-10 flex items-center justify-center gap-x-6">
            <a href="/app_notas_pract/"
                class="rounded-md bg-indigo-500 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500">
                Volver al inicio
            </a>

            <a href="/app_notas_pract/contact" class="text-sm font-semibold text-gray-300 hover:text-white">
                Contactar soporte <span aria-hidden="true">&rarr;</span>
            </a>
        </div>
    </div>
</main>

<?php require("partials/footer.php") ?>

============================================================
ARCHIVO: views\about.view.php
============================================================
<?php require("partials/head.php") ?>
<?php require("partials/nav.php") ?>
<?php require("partials/banner.php") ?>



<main>
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <p class="text-gray-400">Hello. Welcome to the <?= $heading ?> page</p>

    </div>
</main>
<?php require("partials/footer.php") ?>

============================================================
ARCHIVO: views\contact.view.php
============================================================
<?php require("partials/head.php") ?>
<?php require("partials/nav.php") ?>
<?php require("partials/banner.php") ?>
<main>
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <p class="text-gray-400">Hello. Welcome to the <?= $heading ?> page</p>

    </div>
</main>
<?php require("partials/footer.php") ?>

============================================================
ARCHIVO: views\index.view.php
============================================================
<?php require("partials/head.php") ?>
<?php require("partials/nav.php") ?>
<?php require("partials/banner.php") ?>



<main>
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <p class="text-gray-400">Hello. Welcome to the <?= $heading ?> page</p>

    </div>
</main>
<?php require("partials/footer.php") ?>

============================================================
ARCHIVO: views\notes\note-create.view.php
============================================================
<?php require("partials/head.php") ?>
<?php require("partials/nav.php") ?>
<?php require("partials/banner.php") ?>

<main>
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <div class="md:grid md:grid-cols-3 md:gap-6">
            <div class="md:col-span-1">
                <div class="px-4 sm:px-0 mt-6 ">
                    <h3 class="text-lg font-medium leading-6 text-white">Nueva Nota</h3>
                    <p class="mt-1 text-sm text-gray-400">
                        Escribe tus pensamientos. Recuerda que solo tÃº podrÃ¡s ver estas notas.
                    </p>
                </div>
            </div>

            <form class="mt-5 md:col-span-2 md:mt-0" method="POST" action="/app_notas_pract/notes/create">
                <div class="space-y-12">
                    <div class="border-b border-white/10 pb-12">

                        <div class="mt-8 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">

                            <div class="col-span-full">
                                <label for="body" class="block text-sm/6 font-medium text-white">Body</label>
                                <div class="mt-2">
                                    <textarea id="body"
                                        name="body"
                                        rows="3"
                                        class="block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6"
                                        placeholder="Escribe tu nota aquÃ­..."><?= $_POST['body'] ?? '' ?></textarea>
                                </div>

                                <?php if (isset($errors['body'])) : ?>
                                    <p class="text-red-500 text-sm mt-2"><?= $errors['body'] ?></p>
                                <?php endif; ?>
                            </div>
                        </div>
                    </div>


                </div>

                <div class="mt-6 flex items-center justify-end gap-x-6">
                    <button type="button" class="text-sm/6 font-semibold text-white">Cancel</button>
                    <button type="submit" class="rounded-md bg-indigo-500 px-3 py-2 text-sm font-semibold text-white focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500">Save</button>
                </div>
            </form>

        </div>
    </div>
</main>

<?php require("partials/footer.php") ?>

============================================================
ARCHIVO: views\notes\note.view.php
============================================================
<?php require("partials/head.php") ?>
<?php require("partials/nav.php") ?>
<?php require("partials/banner.php") ?>

<main>
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <div class="mb-6">
            <a href="/app_notas_pract/notes" class="inline-flex items-center text-sm font-medium text-indigo-400 hover:text-indigo-300 transition-colors">
                <svg class="mr-2 size-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
                </svg>
                Volver a todas las notas
            </a>
        </div>

        <article class="rounded-xl border border-white/10 bg-gray-800/30 p-8 shadow-2xl">
            <header class="mb-6 border-b border-white/5 pb-6">
                <h1 class="text-3xl font-extrabold tracking-tight text-white sm:text-4xl">
                    Detalles de la Nota
                </h1>
                <div class="mt-3 flex items-center gap-4 text-sm text-gray-400">
                    <span class="flex items-center gap-1">
                        <svg class="size-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        ID de nota: <?= $note['id'] ?>
                    </span>
                </div>
            </header>

            <div class="prose prose-invert max-w-none text-gray-300 leading-relaxed">
                <p class="text-xl text-white/90">
                    <?= nl2br(htmlspecialchars($note['body'])) ?>
                </p>
            </div>

            <div class="mt-10 flex gap-4 border-t border-white/5 pt-8">
                <a href="/app_notas_pract/note/edit?id=<?= $note['id'] ?>" class="rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
                    Editar nota
                </a>

                <form method="POST" action="/app_notas_pract/note">
                    <input type="hidden" name="_method" value="DELETE">
                    <input type="hidden" name="id" value="<?= $note['id'] ?>">
                    <button class="rounded-lg bg-red-600/20 px-4 py-2 text-sm font-semibold text-red-400 hover:bg-red-600/40 border border-red-500/50">
                        Eliminar
                    </button>
                </form>
            </div>
        </article>
    </div>
</main>

<?php require("partials/footer.php") ?>

============================================================
ARCHIVO: views\notes\notes.view.php
============================================================
<?php require("partials/head.php") ?>
<?php require("partials/nav.php") ?>
<?php require("partials/banner.php") ?>

<main>
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
            <?php foreach ($notes as $note): ?>
                <div class="group relative flex flex-col rounded-xl border border-white/10 bg-gray-800/50 p-6 transition-all hover:bg-gray-800 hover:ring-1 hover:ring-indigo-500">
                    <div class="flex-1">
                        <h3 class="text-lg font-semibold text-white group-hover:text-indigo-400">
                            <a href="/app_notas_pract/note?id=<?= $note['id'] ?>">
                                <span class="absolute inset-0"></span> <?= htmlspecialchars($note['body']) ?>
                            </a>
                        </h3>
                        <p class="mt-2 text-sm text-gray-400 line-clamp-3">
                            Click para ver los detalles de esta nota...
                        </p>
                    </div>

                    <div class="mt-4 flex items-center text-xs font-medium text-indigo-400">
                        Ver nota
                        <svg class="ml-1 size-4 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                        </svg>
                    </div>
                </div>
            <?php endforeach; ?>
        </div>
        <div class="mt-10 rounded-xl border border-indigo-500/20 bg-indigo-500/5 p-6 shadow-sm">
            <div class="flex flex-col items-center justify-between gap-4 sm:flex-row">
                <div class="flex items-center gap-4">
                    <div class="flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-indigo-600/20 text-indigo-400">
                        <svg class="size-6" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                        </svg>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-white">Â¿Tienes algo nuevo en mente?</h3>
                        <p class="text-sm text-gray-400">No dejes que tus ideas se escapen. Crea una nota ahora mismo.</p>
                    </div>
                </div>

                <a href="/app_notas_pract/notes/create"
                    class="inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:bg-indigo-500 hover:scale-105 active:scale-95 focus-visible:outline focus-visible:outline-2 focus-visible:outline-indigo-600">
                    <svg class="size-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Crear Nota Nueva
                </a>
            </div>
        </div>
    </div>
</main>

<?php require("partials/footer.php") ?>

============================================================
ARCHIVO: views\partials\banner.php
============================================================
<header class="bg-gray-800 border-b border-white/10">
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <h1 class="text-3xl font-bold tracking-tight text-white"><?= $heading ?></h1>
    </div>
</header>

============================================================
ARCHIVO: views\partials\footer.php
============================================================
</div>
</body>

</html>

============================================================
ARCHIVO: views\partials\head.php
============================================================
<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-900">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindplus/elements@1" type="module"></script>

    <style type="text/tailwindcss">
        /* Esto ayuda a que las variables de espaciado modernas funcionen si usas v4 */
        @theme {
            --spacing-2: 0.5rem;
        }
    </style>
</head>

<body class="h-full">
    <div class="min-h-full">

============================================================
ARCHIVO: views\partials\nav.php
============================================================
<nav class="bg-gray-800/50 border-b border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex h-16 items-center justify-between">

            <div class="flex items-center">
                <div class="shrink-0">
                    <img src="https://tailwindcss.com/plus-assets/img/logos/mark.svg?color=indigo&shade=500" alt="Your Company" class="w-8 h-8" />
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="/app_notas_pract/"
                            class="<?= urlIs("/app_notas_pract/") ? 'bg-gray-950/50 text-white' : 'text-gray-300 hover:bg-white/5 hover:text-white' ?> rounded-md px-3 py-2 text-sm font-medium">
                            Home
                        </a>
                        <a href="/app_notas_pract/about"
                            class="<?= urlIs('/app_notas_pract/about') ? 'bg-gray-950/50 text-white' : 'text-gray-300 hover:bg-white/5 hover:text-white' ?> rounded-md px-3 py-2 text-sm font-medium">
                            About
                        </a>
                        <a href="/app_notas_pract/notes"
                            class="<?= urlIs('/app_notas_pract/notes') ? 'bg-gray-950/50 text-white' : 'text-gray-300 hover:bg-white/5 hover:text-white' ?> rounded-md px-3 py-2 text-sm font-medium">
                            Notes
                        </a>
                        <a href="/app_notas_pract/contact"
                            class="<?= urlIs('/app_notas_pract/contact') ? 'bg-gray-950/50 text-white' : 'text-gray-300 hover:bg-white/5 hover:text-white' ?> rounded-md px-3 py-2 text-sm font-medium">
                            Contact
                        </a>
                    </div>
                </div>
            </div>

            <div class="hidden md:block">
                <div class="ml-4 flex items-center md:ml-6">
                    <button type="button" class="relative rounded-full p-1 text-gray-400 hover:text-white focus:outline-none">
                        <span class="sr-only">View notifications</span>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="size-6">
                            <path d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>

                    <el-dropdown class="relative ml-3">
                        <button class="relative flex max-w-xs items-center rounded-full bg-gray-800 text-sm focus:outline-none">
                            <span class="sr-only">Open user menu</span>
                            <img class="size-8 rounded-full outline -outline-offset-1 outline-white/10" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
                        </button>

                        <el-menu anchor="bottom end" popover class="w-48 origin-top-right rounded-md bg-gray-800 py-1 shadow-lg ring-1 ring-white/10 transition transition-discrete data-closed:scale-95 data-closed:opacity-0 data-enter:duration-100 data-leave:duration-75">
                            <a href="#" class="block px-4 py-2 text-sm text-gray-300 hover:bg-white/5">Your Profile</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-300 hover:bg-white/5">Settings</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-300 hover:bg-white/5">Sign out</a>
                        </el-menu>
                    </el-dropdown>
                </div>
            </div>

            <div class="-mr-2 flex md:hidden">
                <button type="button" command="--toggle" commandfor="mobile-menu" class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-white/5 hover:text-white focus:outline-none">
                    <span class="sr-only">Open main menu</span>
                    <svg class="block size-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <el-disclosure id="mobile-menu" hidden class="md:hidden">
        <div class="space-y-1 px-2 pt-2 pb-3 sm:px-3">
            <a href="/app_notas_pract/" class="<?= urlIs('/app_notas_pract/') ? 'bg-gray-950/50 text-white' : 'text-gray-300 hover:bg-white/5 hover:text-white' ?> block rounded-md px-3 py-2 text-base font-medium">Home</a>
            <a href="/app_notas_pract/about" class="<?= urlIs('/app_notas_pract/about') ? 'bg-gray-950/50 text-white' : 'text-gray-300 hover:bg-white/5 hover:text-white' ?> block rounded-md px-3 py-2 text-base font-medium">About</a>
            <a href="/app_notas_pract/notes" class="<?= urlIs('/app_notas_pract/notes') ? 'bg-gray-950/50 text-white' : 'text-gray-300 hover:bg-white/5 hover:text-white' ?> block rounded-md px-3 py-2 text-base font-medium">Notes</a>
            <a href="/app_notas_pract/contact" class="<?= urlIs('/app_notas_pract/contact') ? 'bg-gray-950/50 text-white' : 'text-gray-300 hover:bg-white/5 hover:text-white' ?> block rounded-md px-3 py-2 text-base font-medium">Contact</a>
        </div>
        <div class="border-t border-white/10 pt-4 pb-3">
            <div class="flex items-center px-5">
                <div class="shrink-0">
                    <img class="size-10 rounded-full outline -outline-offset-1 outline-white/10" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
                </div>
                <div class="ml-3">
                    <div class="text-base font-medium text-white">Tom Cook</div>
                    <div class="text-sm font-medium text-gray-400">tom@example.com</div>
                </div>
            </div>
            <div class="mt-3 space-y-1 px-2">
                <a href="#" class="block rounded-md px-3 py-2 text-base font-medium text-gray-400 hover:bg-white/5 hover:text-white">Your Profile</a>
                <a href="#" class="block rounded-md px-3 py-2 text-base font-medium text-gray-400 hover:bg-white/5 hover:text-white">Settings</a>
                <a href="#" class="block rounded-md px-3 py-2 text-base font-medium text-gray-400 hover:bg-white/5 hover:text-white">Sign out</a>
            </div>
        </div>
    </el-disclosure>
</nav>
